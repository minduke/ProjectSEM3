
@{
    ViewBag.Title = "Trang Chu";
    Layout = "~/Views/Shared/_Layout.cshtml";
    List<GiveAID.Models.model_view.ViewPost> posts = new List<GiveAID.Models.model_view.ViewPost>();
    if (ViewBag.posts != null)
    {
        posts = ViewBag.posts;
    }
    int totalPages = ViewBag.TotalPages;
  
}

<style>
  

    .carousel-caption {
        /* CSS cho thẻ <h5> */

        bottom: 90px;
    }

        .carousel-caption.d-none.d-md-block h5 {
            /* CSS cho thẻ <h5> */
            color: ghostwhite;
            font-weight: bold;
            font-size: 22px;
            text-transform: uppercase;
            text-shadow: 5px 5px 10px #00FF00;
        }

        .carousel-caption.d-none.d-md-block p {
            /* CSS cho thẻ <p> */
            color: ghostwhite;
            font-weight: bold;
            font-size: 20px;
            text-shadow: 5px 5px 10px #00FF00;
        }


    .w-100 {
        /* kích thước thẻ slide index home */
        width: 100vw;
        height: 40vh;
        filter: blur(3px);
        background-color: rgba(0, 0, 0, 0.5); /* Màu nền làm mờ */
    }

    .widget-user .widget-user-image > img {
        /* kích thước logo card index home */
        width: 60px;
        height: 60px;
        position: relative;
        bottom: -300px;
        left: -100px;
    }

    .widget-user .widget-user-header {
        /* kích thước img background card index home */
        height: 400px;
    }


    .PageVIP {
        position: relative;
       left:500px;
       margin: 4px 7px 2px 4px;
       margin-bottom:10px;
    }

    .progress {
        width: 100%;
        background-color: #f3f3f3;
    }
        
    .progress-bar {
        width: 0%;
        
        background-color: #4caf50;
        text-align: center;
        line-height: 30px;
        color: white;
    }

</style>
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">

    <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel" data-interval="1000">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
            <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="@Url.Content("~/content/Images/2DV.gif")" class="d-block w-100" alt="anh test 1">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Châm ngôn sống</h5>
                    <p>Hãy thở khi còn sống.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="@Url.Content("~/content/Images/Xqg8.gif")" class="d-block w-100" alt="anh 2">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Second slide label</h5>
                    <p>Some representative placeholder content for the second slide.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="@Url.Content("~/content/Images/YhSO.gif")" class="d-block w-100" alt="anh 3">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Third slide label</h5>
                    <p>Some representative placeholder content for the third slide.</p>
                </div>
            </div>
        </div>

    </div>


    <!-- Content Header (Page header) -->
    <div class="content-header">

        <div class="container">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1 class="m-0"> Home <small>Version 3.0</small></h1>
                </div><!-- /.col -->
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        @*<li class="breadcrumb-item"><a href="#"></a></li>
                            <li class="breadcrumb-item"><a href="#"></a></li>
                            <li class="breadcrumb-item active"></li>*@
                    </ol>
                </div><!-- /.col -->
            </div><!-- /.row -->
        </div><!-- /.container-fluid -->
    </div>

    <!-- Main content -->
    <div class="content">
        <div class="container">
            <div class="row mb-2">

                <!--mot card-->
                <!-- /.col -->
                @foreach (var item in posts)
                {
                    <div class="col-md-4">
                        <!-- Widget: user widget style 1 -->
                        <div class="card card-widget widget-user">
                            <!-- Add the bg color to the header using any of the bg-* classes -->
                            <div class="widget-user-header text-white "
                                 style="background: url('@Url.Content("~/Content/Images/" + item.image)') center center;">

                                <h3 class="widget-user-username text-right">@item.name</h3>
                                <h5 class="widget-user-desc text-right">Từ Thiện Vui Vẻ</h5>
                            </div>
                            <div class="widget-user-image">
                                <img class="img-circle logoBrandCard" src="@Url.Content("~/content/dist/img/user3-128x128.jpg")" alt="User Avatar">
                            </div>
                            <div class="card-footer">
                                <div class="row">
                                    <div class="container">
                                        <a href="@Url.Action("CardDetails","Home")/@item.id">
                                            <h4>
                                                @item.title

                                            </h4>
                                        </a>

                                    </div>

                                    <div class="col-sm-4 border-right">
                                        <div class="description-block">
                                            <h5 class="description-header">@Convert.ToInt64(item.target).ToString("N0") đ</h5>
                                            <span class="description-text">Mục Tiêu</span>
                                        </div>
                                        <!-- /.description-block -->
                                    </div>

                                    <!-- /.col -->
                                    <div class="col-sm-4">
                                        <div class="description-block">
                                            <h5 class="description-header">
                                                <div class="progress">
                                                    <div class="progress-bar progress-bar-striped bg-success" role="progressbar" style="width:@Convert.ToInt64((item.total/item.target)*100)%">@(Convert.ToInt64((item.total/item.target)*100))%</div>
                                                </div>
                                            </h5>
                                            <span class="description-text">Tiến Độ</span>

                                        </div>
                                        <!-- /.description-block -->
                                    </div>

                                    <div class="col-sm-4 border-right">
                                        <div class="description-block">
                                            <h5 class="description-header">@Convert.ToInt64(item.total).ToString("N0") đ</h5>
                                            <span class="description-text">Đã Góp</span>
                                        </div>
                                        <!-- /.description-block -->
                                    </div>
                                    <!-- /.col -->
                                    <!-- /.col -->
                                </div>
                                <!-- /.row -->
                            </div>
                        </div>
                        <!-- /.widget-user -->
                    </div>

                }
                <!-- /.col -->






            </div>


            <div class="container PageVIP">
                <!--Phan trang-->
                <nav aria-label="Page navigation example">
                    @*<ul class="pagination">
                        @if (ViewBag.CurrentPage > 1)
                        {
                            <li class="page-item">
                                <a class="page-link" href="@Url.Action("Index", new { page = ViewBag.CurrentPage - 1, pageSize = ViewBag.PageSize })" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                        }

                        @for (int i = 1; i <= totalPages; i++)
                        {
                            <li class="page-item @(i == ViewBag.CurrentPage ? "active" : "")">
                                <a class="page-link" href="@Url.Action("Index", new { page = i, pageSize = ViewBag.PageSize })">@i</a>
                            </li>
                        }

                        @if (ViewBag.CurrentPage < totalPages)
                        {
                            <li class="page-item">
                                <a class="page-link" href="@Url.Action("Index", new { page = ViewBag.CurrentPage + 1, pageSize = ViewBag.PageSize })" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        }
                    </ul>*@

                    <ul class="pagination">
                        @if (ViewBag.CurrentPage > 1)
                        {
                            <li class="page-item">
                                <a class="page-link" href="@Url.Action("Index", new { page = ViewBag.CurrentPage - 1, pageSize = ViewBag.PageSize })" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                        }

                        @for (int i = ViewBag.StartPage; i <= ViewBag.EndPage; i++)
                        {
                            <li class="page-item @(i == ViewBag.CurrentPage ? "active" : "")">
                                <a class="page-link" href="@Url.Action("Index", new { page = i, pageSize = ViewBag.PageSize })">@i</a>
                            </li>
                        }

                        @if (ViewBag.CurrentPage < ViewBag.TotalPages)
                        {
                            <li class="page-item">
                                <a class="page-link" href="@Url.Action("Index", new { page = ViewBag.CurrentPage + 1, pageSize = ViewBag.PageSize })" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        }
                    </ul>
                </nav>

            </div>
            <div class="description-block">
                <h5 class="description-header">
                    <div class="progress">
                        <div id="myProgressBar" class="progress-bar progress-bar-striped bg-success" role="progressbar" >0%</div>
                    </div>
                </h5>
                <span class="description-text">Tiến Độ</span>

                <input type="number" id="progressInput" min="0" max="100" value="0" oninput="updateProgressBar()" />
            </div>


            <script>
                function updateProgressBar() {
                    var input = document.getElementById('progressInput').value;
                    var progressBar = document.getElementById('myProgressBar');
                    if (input < 0) input = 0;
                    if (input > 100) input = 100;
                    progressBar.style.width = input + '%';
                    progressBar.innerHTML = input + '%';
                }
            </script>


        




            <!-- /.container-fluid -->


        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="@Url.Content("~/Content/Images/sloganVIP.jpg")" loading="lazy" class="d-block w-100" alt="anh test 1">
                <div class="carousel-caption d-none d-md-block">
                    <h5>If you're still breathing, you're alive</h5>
                    <p>So don't forget to breathe</p>
                </div>
            </div>
        </div>

        <!-- /.content -->
    </div>
    <!-- Main content -->
</div>
<!-- Content Wrapper. Contains page content -->
